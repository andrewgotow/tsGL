<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>WebGL</title>

    <script src="bin/tsc.js"></script>
    <script src="src/web-components/custom-elements/tsgl-elements.js"></script>

  </head>
  <body onload="GL.init( document.getElementById('glcanvas') ); start();">
    <canvas id="glcanvas" width="800" height="800" style="border: 1px solid gray">
      It looks like WebGL couldn't be initialized. Ensure your browser supports it :(
    </canvas>
  </body>

  <!-- Load Scene Hierarchy -->
  <tsgl-scene id="scene1">

    <!-- Load Assets -->
    <tsgl-shader id="test" vert-src="/assets/shaders/test.vert" frag-src="/assets/shaders/test.frag"></tsgl-shader>

    <tsgl-material id="mat_body" shader="test">
      <tsgl-texture name="uMainTex" src="/assets/textures/ExcaliburBody_Diffuse.png"></tsgl-texture>
    </tsgl-material>

    <tsgl-material id="mat_dragon" shader="test">
      <tsgl-texture name="uMainTex" src="/assets/textures/marble.png"></tsgl-texture>
    </tsgl-material>

    <tsgl-mesh id="mesh_dragon" src="/assets/models/dragon.obj"></tsgl-mesh>

    <!-- Systems -->
    <tsgl-system type="renderer"></tsgl-system>

    <!-- Entities -->
    <tsgl-entity>
      <tsgl-component type="camera"></tsgl-component>
      <tsgl-component type="transform" x="0" y="0" z="1"></tsgl-component>
    </tsgl-entity>

    <tsgl-entity id="dragon">
      <tsgl-component type="transform" x="0" y="0" z="0"></tsgl-component>
      <tsgl-component type="renderable" mesh="mesh_dragon" material="mat_dragon"></tsgl-component>
    </tsgl-entity>

    <tsgl-entity>
      <tsgl-component type="transform" x="1" y="1" z="1"></tsgl-component>
      <tsgl-component type="light" color="#FFFFFF" intensity="1" range="2"></tsgl-component>
    </tsgl-entity>

  </tsgl-scene>

</html>
